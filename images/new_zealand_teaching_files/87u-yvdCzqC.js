if (self.CavalryLogger) { CavalryLogger.start_js(["tWRuptt"]); }

__d("MWChatContact_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"},{defaultValue:!1,kind:"LocalArgument",name:"shouldEnableMWStoriesEntrypoint"}],kind:"Fragment",metadata:null,name:"MWChatContact_profile",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{condition:"shouldEnableMWStoriesEntrypoint",kind:"Condition",passingValue:!0,selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"DirectInboxBroadcastBucketConnection",kind:"LinkedField",name:"story_bucket",plural:!1,selections:[{alias:null,args:null,concreteType:"DirectMessageThreadBucket",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"first_story_to_show",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryCardSeenState",kind:"LinkedField",name:"story_card_seen_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_seen_by_viewer",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"story_bucket(first:1)"}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}}();e.exports=a}),null);
__d("MWChatContact_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatContact_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometIconLogoFlat.react",["cr:11257","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(b("cr:11257"),babelHelpers["extends"]({},a,{color:"active-tab"}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometHomeContactsPresenceAwareList.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("ul",{className:a.active?"pedkr2u6":"ggwglk7f",children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RoomsTileButton.react",["CometPressable.react","CometProgressRingIndeterminate.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={button:{alignItems:"bp9cbjyn",backgroundColor:"oo1teu6h",borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",color:"q66pz984",display:"j83agx80",fontSize:"jq4qci2q",height:"tv7at329",justifyContent:"taijpn5t",lineHeight:"pdlg2rys",marginBottom:"bi6gxh9e",minWidth:"jrlfinob",position:"l9j0dhe7",width:"k4urcfbm"},deemphasizedButton:{backgroundColor:"g5ia77u1",boxShadow:"fi88u1cw"},withGradient:{backgroundColor:"q2y6ezfg",color:"msa5nt39",fontSize:"jq4qci2q",fontWeight:"lrazzd5p",lineHeight:"a3bd9o3v"}};function a(a){var b=a.actionName,d=a.isActionDeemphasized,e=a.isDisabled,f=a.onButtonPress,g=a.shouldShowGradient;a=a.testid;return h.jsx(c("CometPressable.react"),{"aria-label":b,disabled:e===!0,onPress:f,testid:void 0,xstyle:[i.button,d===!0&&i.deemphasizedButton,g===!0&&i.withGradient],children:e===!0?h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}):g===!0?h.jsx("span",{children:b}):h.jsx(c("TetraText.react"),{color:"blueLink",type:"bodyLink3",children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSPreloadThreadForContact.bs",["LS.bs","LSDatabaseDeferred.bs","LSMailboxIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection.bs","LSMailboxVerifyThreadRowExistsStoredProcedure","LSTransaction.bs","ReQL.bs","ReQLTable","bs_caml_format","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";function g(a){var c=b("LSDatabaseDeferred.bs").db.then(function(c){return b("LSTransaction.bs").run(c,function(c){var d=b("bs_caml_format").caml_int64_of_string(a);return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"messages_ranges_v2__generated").asc,{hd:d,tl:0})).then(function(a){if(a!==void 0)if(a.c===a.e&&a.c!=="")return b("LSMailboxIssueMessagesRangeQueryStoredProcedure")(d,a.b,b("LSMailboxMessagesRangeQueryDirection.bs").before,b("bs_curry")._1(b("LS.bs").make,c));else return;else return b("LSMailboxVerifyThreadRowExistsStoredProcedure")(d,void 0,b("bs_curry")._1(b("LS.bs").make,c))})},"readWrite")});b("promiseDone")(c,void 0,void 0)}function a(){return g}f.usePreloaderForUser=a}),null);
__d("MWLSPreloadThreadForContact.re",["MWLSPreloadThreadForContact.bs"],(function(a,b,c,d,e,f){a=b("MWLSPreloadThreadForContact.bs").usePreloaderForUser;f.usePreloaderForUser=a}),null);
__d("LSThreadAttributionStore.re",["LSThreadAttributionStore.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a,c){a=b("bs_curry")._2(b("LSThreadAttributionStore.bs").setSource,a,c);return a};f.setSource=a}),null);
__d("MWThreadAddOnPrimary.re",["MWThreadAddOnPrimary.bs","bs_curry"],(function(a,b,c,d,e,f){a=function(a){a=b("bs_curry")._5(b("MWThreadAddOnPrimary.bs").get,a.threadImages,a.threadTitle==null?void 0:a.threadTitle,a.isThreadActive,a.size,a.lastActiveTime==null?void 0:a.lastActiveTime);return a};f.get=a}),null);
__d("MWChatContact.react",["CometRelay","CurrentEnvironment","JSResourceForInteraction","JSScheduler","LSThreadAttributionStore.re","MWChatContact_profile.graphql","MWChatContact_viewer.graphql","MWLSPreloadThreadForContact.re","MWThreadAddOnPrimary.re","StoriesGating","TetraListCell.react","XCometMessengerControllerRouteBuilder","XCometStoriesControllerRouteBuilder","gkx","qex","react","recoverableViolation","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("react"),k=d("react").useCallback,l=c("JSResourceForInteraction")("MWChatTabContainer.bs").__setRef("MWChatContact.react");function a(a){var e=a.entryPoint,f=a.openTabForUser,g=a.preventLocalNavigation;g=g===void 0?!0:g;var m=a.profile,n=a.selected;n=n===void 0?!1:n;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatContact_viewer.graphql"),a);var o=c("qex")._("971346");o=o===!0?(a==null?void 0:(o=a.presence_view_side_settings)==null?void 0:o.is_active_status_viewable)===!0:(a==null?void 0:a.chat_visibility)===!0;a=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatContact_profile.graphql"),m);m=a.availability;var p=a.id,q=a.last_active_time,r=a.name,s=a.profile_picture,t,u="none";a=(a=a.story_bucket)==null?void 0:a.nodes;a=a?a[0]:null;if(a!=null){var v,w=a.id;v=(v=a.first_story_to_show)==null?void 0:v.id;a=a==null?void 0:(a=a.first_story_to_show)==null?void 0:(a=a.story_card_seen_state)==null?void 0:a.is_seen_by_viewer;a!=null&&(u=a?"seen":"unseen");if(u!=="none"&&w!=null&&v!=null){a=c("XCometStoriesControllerRouteBuilder").buildURL({bucket_id:w,card_id:v,view_single:!0});t={prefetchQueriesOnHover:!0,url:a}}}w=k(function(){c("gkx")("1512630")&&d("JSScheduler").scheduleSpeculativeCallback(function(){return l.preload()})},[]);var x=c("MWLSPreloadThreadForContact.re").usePreloaderForUser();v=k(function(){p!=null&&x(p)},[p,x]);a=c("useCometPreloader")("button",w,v);var y=a[0];w=a[1];var z=a[2],A=a[3];v=k(function(a){z!=null&&z(a),p!=null&&f(p,!1)},[z,p,f]);a=k(function(a){z!=null&&z(a),p!=null&&c("LSThreadAttributionStore.re").setSource(p,e)},[z,p,e]);var B=k(function(a){y(a),A(!0)},[y,A]);s=s==null?void 0:s.uri;if(p==null)return c("recoverableViolation")("Chat contact list cell is missing id","comet_ui");if(r==null)return c("recoverableViolation")("Chat contact list cell is missing name","comet_ui");if(s==null)return c("recoverableViolation")("Chat contact list cell is missing profileUri","comet_ui");m=m==="ACTIVE";o=o?q:void 0;q=d("StoriesGating").shouldEnableMWStoriesEntrypoint()?{addOn:m?{type:"availabilityBadge"}:o!=null?{border:"web-wash",time:o,type:"lastActiveTimeBadge"}:void 0,linkProps:t!=null?t:void 0,shape:"circle",size:36,source:{uri:s},storyStatus:u,type:"profile-photo"}:c("MWThreadAddOnPrimary.re").get({isThreadActive:m,lastActiveTime:o,size:36,threadImages:[s],threadTitle:void 0});u=c("CurrentEnvironment").facebookdotcom?c("XCometMessengerControllerRouteBuilder").buildURL({thread_key:p}):"/t/"+p+"/";return j.jsx(c("TetraListCell.react"),{addOnPrimary:q,disabled:!1,headline:r,level:4,linkProps:{preventLocalNavigation:g,url:u},onHoverIn:B,onHoverOut:w,onPress:g?v:a,selected:n,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWChatJoinVideoChat",["fbt","FBLogger","RTWebPreCallContext","VideoChatLinksUserActionsTypedLoggerLite","cometPushToast","getRequestConstUri","isMessengerDotComURI","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";b=d("react");var i=b.useCallback,j=b.useContext,k=b.useState,l=c("requireDeferred")("ZenonPreCallHookBuilderHelper").__setRef("useMWChatJoinVideoChat");function a(a){var b=j(c("RTWebPreCallContext")),e=k(!1),f=e[0],g=e[1];e=i(function(e,f){g(!0);var i=c("isMessengerDotComURI")(c("getRequestConstUri")())?"messenger_dot_com":"www_facebook_window";c("VideoChatLinksUserActionsTypedLoggerLite").log({component:"fb_feed_tofu_unit",event:"meetup_entry_point_clicked",surface:i});var j=(i=f==null?void 0:f.startCallImmediately)!=null?i:!1;l.loadImmediately(function(f){try{f.joinMeetup({context:b,linkUrl:e,startCallImmediately:j}),a!=null&&a()}catch(a){c("FBLogger")("comet").catching(a).mustfix("Unable to join video chat room"),d("cometPushToast").cometPushErrorToast({message:h._("Unable to join room.")})}finally{g(!1)}})},[a,b]);return[e,f]}g["default"]=a}),98);
__d("StoriesTraySeeAllStoriesButton.react",["fbt","CometTooltip.react","Locale","TetraCircleButton.react","XCometStoriesControllerRouteBuilder","cr:12146","cr:12147","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("ODS").__setRef("StoriesTraySeeAllStoriesButton.react");function a(){var a=function(){j.onReady(function(a){a.bumpEntityKey(4329,"fb_stories_web","stories_tray_see_all_stories_button_click",1)})},e=d("Locale").isRTL()?b("cr:12146"):b("cr:12147"),f=h._("See All Stories");e={color:"secondary",icon:e,label:f,linkProps:{traceParams:{navigation_source:"stories_tray_arrow"},url:c("XCometStoriesControllerRouteBuilder").buildURL({})},size:40,type:"overlay"};return i.jsx("div",{className:"f2thv7nb la811eo6 pmk7jnqg fpf4h9qb gsapk3bl nr3idzxk cur7e4n5 ocebsr1h",children:i.jsx(c("CometTooltip.react"),{delayMs:300,tooltip:f,children:i.jsx(c("TetraCircleButton.react"),babelHelpers["extends"]({},e,{onPress:a}))})},"button")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsMessageRequestsEntryPoint.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5];f.settings=a;f.pendingRequests=c;f.notifications=d;f.chatTabSettings=e;f.chatTabPendingRequests=b;f.inboxFolderList=g}),null);